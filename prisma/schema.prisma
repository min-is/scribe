// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Provider {
  id        String   @id @default(cuid())
  slug      String   @unique
  name      String
  credentials String?

  // Difficulty Metrics (1-10 scale)
  generalDifficulty     Int?  // Primary metric shown in preview
  speedDifficulty       Int?  // How fast they work
  terminologyDifficulty Int?  // Terminology expectations
  noteDifficulty        Int?  // Note complexity requirements

  // Preferences
  noteTemplate String?
  noteSmartPhrase String?
  preferences  Json?      // Legacy JSON field
  wikiContent  Json?      // Rich wiki-style content (WikiContent schema)

  // Analytics
  viewCount        Int @default(0)  // Profile view tracking
  searchClickCount Int @default(0)  // Search click tracking

  // Metadata
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([slug])
  @@index([viewCount])
  @@index([searchClickCount])
}
